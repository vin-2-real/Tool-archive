local key = Enum.KeyCode.Q -- key to toggle invisibility

-- Show toggle key notification at the start
game.StarterGui:SetCore("SendNotification", {
    Title = "Invisibility";
    Text = "Click Q to toggle";
    Duration = 3;
})

--// don't edit script below
local invis_on = false
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == key then
        invis_on = not invis_on
        if invis_on then
            local savedpos = player.Character.HumanoidRootPart.CFrame
            task.wait()
            player.Character:MoveTo(Vector3.new(-25.95, 84, 3537.55))
            task.wait(0.15)

            local Seat = Instance.new('Seat')
            Seat.Anchored = false
            Seat.CanCollide = false
            Seat.Name = 'invischair'
            Seat.Transparency = 1
            Seat.Position = Vector3.new(-25.95, 84, 3537.55)
            Seat.Parent = workspace

            local Weld = Instance.new("Weld")
            Weld.Part0 = Seat
            Weld.Part1 = player.Character:FindFirstChild("Torso") or player.Character:FindFirstChild("UpperTorso")
            Weld.Parent = Seat

            task.wait()
            Seat.CFrame = savedpos

            game.StarterGui:SetCore("SendNotification", {
                Title = "Invis On";
                Duration = 1;
                Text = "";
            })
        else
            local existingSeat = workspace:FindFirstChild('invischair')
            if existingSeat then existingSeat:Destroy() end
            game.StarterGui:SetCore("SendNotification", {
                Title = "Invis Off";
                Duration = 1;
                Text = "";
            })
        end
    end
end)
